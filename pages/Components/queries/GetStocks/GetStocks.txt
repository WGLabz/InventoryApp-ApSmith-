SELECT c.name,
c.component_id,
c.description,
c.date_added,
c.image_content,
c.image_type,
b.box_code,
c.category_id,
b.box_label,
ct.category_name,
b.box_id,
( SELECT SUM(quantity_ordered) FROM order_parts WHERE component_id = c.component_id) AS stock
FROM components c
LEFT 
JOIN boxes b ON b.box_id = c.box_id
LEFT
JOIN categories ct ON ct.category_id = c.category_id
ORDER BY {{!!Table1.sortOrder.column ? Table1.sortOrder.column : 'name'}} {{!!Table1.sortOrder.order ? !!Table1.sortOrder.order : 'desc'}}
LIMIT {{Table1.pageSize}} OFFSET {{(Table1.pageNo - 1) * Table1.pageSize}};
